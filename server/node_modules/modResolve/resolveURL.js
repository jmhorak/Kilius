//////////////////////////////////////////////////////////////////////////
// File: resolveURL.js
//
// Description: 
//   Resolves a URL from the server backend
//
//////////////////////////////////////////////////////////////////////////
var regex = /^\/\+\/([0-9bcdfghjklmnpqrstvwxyz]+)$/,
    transform = require('../modTransform/transformService.js');

/**
 * Resolves the given URL to the address to forward to
 *
 * @param url - String to lookup
 * @param cb - Callback when successfully resolved
 * @param errCB - Callback when there is a problem
 */
exports.resolveURL = function (url, cb, errCB) {
  var match = regex.exec(url),
      id = "";

  // Validate the URL
  if (match === null) {
    // TODO
    errCB();
  } else if (match.length < 2) {
    errCB();
  } else {
    id = match[1];


  }



  // Transform the

  // Fetch record from database

  // Increment hit count

  // Capture user click info

  // Return long form URL
}